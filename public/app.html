<!DOCTYPE html>
<head>
  <meta charset="UTF-8" />
  <title>Exercises</title>
  <link rel="stylesheet" href="assets/appStyle.css">
</head>
<body>
  <h1>Exercises available</h1>
  <ul id="exo-list">Loading...</ul>

  <script>
    async function loadExercises() {
      try {
        const res = await fetch('/api/exercises');
        const data = await res.json();

        const list = document.getElementById('exo-list');
        list.innerHTML = '';

        data.forEach(exo => {
          const li = document.createElement('li');
          const link = document.createElement('a');
          link.href = `interfaceCode.html?id=${exo.id}`;
          link.textContent = `#${exo.id} - ${exo.title}`;
          link.target = "_blank"; 
          link.rel = "noopener noreferrer"; 
          li.appendChild(link);
          list.appendChild(li);
        });

      } catch (err) {
        document.getElementById('exo-list').textContent = 'Error while loading.';
        console.error(err);
      }
    }

    window.onload = loadExercises;
  </script>
</body>
</html>
